{"version":3,"sources":["webpack:///app.js","webpack:///./src/index.js","webpack:///./src/actions/index.js","webpack:///./src/common/config.js","webpack:///./src/common/state.js","webpack:///./src/components/canvas/form.js","webpack:///./src/components/canvas/index.js","webpack:///./src/components/canvas/mosaic.js","webpack:///./src/components/menu.js","webpack:///./src/components/progressbar.js","webpack:///./src/components/statistic/index.js","webpack:///./src/components/statistic/table.js","webpack:///./src/components/view.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","_react","_react2","_reactDom","_reactDom2","_componentsView","_componentsView2","_componentsCanvas","_componentsCanvas2","_componentsStatistic","_componentsStatistic2","_reactRouter","_commonState","_commonState2","_baobabReactHigherOrder","RootedApp","root","render","createElement","Router","history","hashHistory","Route","path","component","IndexRedirect","to","Redirect","from","document","getElementById","99","_Promise","_Array$from","Object","defineProperty","value","_superagent","_superagent2","_commonConfig","_commonConfig2","getColorSvg","hex","resolve","reject","get","set","end","err","res","status","text","loadImage","src","img","Image","onload","height","width","scaleWidth","Math","ceil","TILE_WIDTH","scalex","scaleHeight","TILE_HEIGHT","scaley","data","getScaledImageData","context","cursorScaled","select","_cursorScaled$get","imageData","getImageData","setStatus","setColorStat","statColors","statTotal","saveDrawResults","arrData","mosaicData","concat","setProgress","x","y","total","step","bar","round","100","101","_baobab","_baobab2","initState","elements","canvas","buffer","link","menu","title","image","scaled","mosaic","stat","svg","progress","163","_get","_inherits","_createClass","_classCallCheck","_actions","_actions2","_reactBaobab","_classnames","_classnames2","_default","_React$Component","_this","this","_default2","getPrototypeOf","prototype","apply","arguments","onSelected","e","URL","createObjectURL","target","files","onRender","onSave","props","href","toDataURL","download","key","_props","isRendeing","isReady","isDone","className","onChange","type","show","hide","onClick","id","branch","Component","164","_form","_form2","_mosaic","_mosaic2","165","_slicedToArray","_progressbar","_progressbar2","call","scaleToCanvas","getContext","scale","drawImage","renderToCanvas","imgX","imgY","_props2","undefined","clearRect","start","_scaled$data$slice","slice","_scaled$data$slice2","r","g","b","rgbToHex","renderRow","then","getHexSvg","rawSvg","_props3","Blob","domURL","self","webkitURL","url","bufferctxt","imgData","putImageData","renderToCanvasFromCashe","_props4","Uint8ClampedArray","ImageData","color","toString","prevProps","_props5","isRendering","166","renderItem","_ref","Link","activeClassName","map","menuitem","167","168","_Object$keys","_table","_table2","sortStats","colors","arr","forEach","push","sort","a","169","getPercentValue","toFixed","renderTable","item","renderTableItem","style","background","renderEmptyState","isEmpty","length","170","_menu","_menu2","location","pathname","children","PropTypes","object","isRequired","enumerable"],"mappings":"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","file":"app.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(236);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _componentsView = __webpack_require__(170);\n\t\n\tvar _componentsView2 = _interopRequireDefault(_componentsView);\n\t\n\tvar _componentsCanvas = __webpack_require__(164);\n\t\n\tvar _componentsCanvas2 = _interopRequireDefault(_componentsCanvas);\n\t\n\tvar _componentsStatistic = __webpack_require__(168);\n\t\n\tvar _componentsStatistic2 = _interopRequireDefault(_componentsStatistic);\n\t\n\tvar _reactRouter = __webpack_require__(153);\n\t\n\tvar _commonState = __webpack_require__(101);\n\t\n\tvar _commonState2 = _interopRequireDefault(_commonState);\n\t\n\tvar _baobabReactHigherOrder = __webpack_require__(183);\n\t\n\tvar RootedApp = (0, _baobabReactHigherOrder.root)(_commonState2['default'], _componentsView2['default']);\n\t\n\t_reactDom2['default'].render(_react2['default'].createElement(\n\t\t_reactRouter.Router,\n\t\t{ history: _reactRouter.hashHistory },\n\t\t_react2['default'].createElement(\n\t\t\t_reactRouter.Route,\n\t\t\t{ path: '/', component: RootedApp },\n\t\t\t_react2['default'].createElement(_reactRouter.IndexRedirect, { to: '/canvas' }),\n\t\t\t_react2['default'].createElement(_reactRouter.Route, { path: 'canvas', component: _componentsCanvas2['default'] }),\n\t\t\t_react2['default'].createElement(_reactRouter.Route, { path: 'statistics', component: _componentsStatistic2['default'] }),\n\t\t\t_react2['default'].createElement(_reactRouter.Redirect, { from: '*', to: '/canvas' })\n\t\t)\n\t), document.getElementById('app'));\n\n/***/ },\n\n/***/ 99:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Promise = __webpack_require__(102)['default'];\n\t\n\tvar _Array$from = __webpack_require__(171)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _superagent = __webpack_require__(336);\n\t\n\tvar _superagent2 = _interopRequireDefault(_superagent);\n\t\n\tvar _commonState = __webpack_require__(101);\n\t\n\tvar _commonState2 = _interopRequireDefault(_commonState);\n\t\n\tvar _commonConfig = __webpack_require__(100);\n\t\n\tvar _commonConfig2 = _interopRequireDefault(_commonConfig);\n\t\n\texports['default'] = {\n\t\tgetColorSvg: function getColorSvg(hex) {\n\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\tvar req = _superagent2['default'].get('http://localhost:9000/colors/' + hex).set('Accept', 'image/svg+xml').end(function (err, res) {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t_commonState2['default'].set(['svg', hex], res.text);\n\t\t\t\t\t\tresolve(res.text);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('error');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\n\t\tloadImage: function loadImage(src) {\n\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\tvar img = new Image();\n\t\t\t\timg.src = src;\n\t\t\t\timg.onload = function () {\n\t\t\t\t\tvar src = img.src;\n\t\t\t\t\tvar height = img.height;\n\t\t\t\t\tvar width = img.width;\n\t\n\t\t\t\t\t_commonState2['default'].set('image', { src: src, height: height, width: width });\n\t\n\t\t\t\t\tvar scaleWidth = Math.ceil(img.width / _commonConfig2['default'].TILE_WIDTH);\n\t\t\t\t\tvar scalex = scaleWidth / img.width;\n\t\t\t\t\tvar scaleHeight = Math.ceil(img.height / _commonConfig2['default'].TILE_HEIGHT);\n\t\t\t\t\tvar scaley = scaleHeight / img.height;\n\t\n\t\t\t\t\t// scaled image sizes\n\t\t\t\t\t_commonState2['default'].set('scaled', {\n\t\t\t\t\t\theight: scaleHeight,\n\t\t\t\t\t\twidth: scaleWidth,\n\t\t\t\t\t\tscalex: scalex,\n\t\t\t\t\t\tscaley: scaley\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// mosaic size\n\t\t\t\t\t_commonState2['default'].set('mosaic', {\n\t\t\t\t\t\theight: scaleHeight * _commonConfig2['default'].TILE_HEIGHT,\n\t\t\t\t\t\twidth: scaleWidth * _commonConfig2['default'].TILE_WIDTH,\n\t\t\t\t\t\tdata: []\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_commonState2['default'].set('status', 'loaded');\n\t\t\t\t\t_commonState2['default'].set([\"progress\", \"bar\"], 0);\n\t\n\t\t\t\t\tresolve(img);\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\n\t\tgetScaledImageData: function getScaledImageData(context) {\n\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\tvar cursorScaled = _commonState2['default'].select('scaled');\n\t\n\t\t\t\tvar _cursorScaled$get = cursorScaled.get();\n\t\n\t\t\t\tvar height = _cursorScaled$get.height;\n\t\t\t\tvar width = _cursorScaled$get.width;\n\t\n\t\t\t\tvar imageData = _Array$from(context.getImageData(0, 0, width, height).data);\n\t\n\t\t\t\tcursorScaled.set('data', imageData);\n\t\t\t\t_commonState2['default'].set('status', 'ready');\n\t\n\t\t\t\tresolve(imageData);\n\t\t\t});\n\t\t},\n\t\n\t\tsetStatus: function setStatus(status) {\n\t\t\t_commonState2['default'].set('status', status);\n\t\t},\n\t\n\t\tsetColorStat: function setColorStat(hex) {\n\t\t\tvar statColors = _commonState2['default'].select('stat', 'colors');\n\t\t\tvar statTotal = _commonState2['default'].select('stat', 'total');\n\t\n\t\t\tif (!statColors.get(hex)) {\n\t\t\t\tstatColors.set(hex, 1);\n\t\t\t} else {\n\t\t\t\tstatColors.set(hex, statColors.get(hex) + 1);\n\t\t\t}\n\t\n\t\t\tif (!statTotal.get()) {\n\t\t\t\tstatTotal.set(1);\n\t\t\t} else {\n\t\t\t\tstatTotal.set(statTotal.get() + 1);\n\t\t\t}\n\t\t},\n\t\n\t\tsaveDrawResults: function saveDrawResults(data) {\n\t\t\tvar arrData = _Array$from(data);\n\t\t\tvar mosaicData = _commonState2['default'].select('mosaic', 'data');\n\t\n\t\t\tif (mosaicData.get()) {\n\t\t\t\tmosaicData.set(mosaicData.get().concat(arrData));\n\t\t\t} else {\n\t\t\t\tmosaicData.set(arrData);\n\t\t\t}\n\t\t},\n\t\n\t\tsetProgress: function setProgress(x, y) {\n\t\t\tvar cursorScaled = _commonState2['default'].select(\"scaled\");\n\t\t\tvar total = cursorScaled.get('width') * cursorScaled.get('height');\n\t\t\tvar step = x + y * cursorScaled.get('width');\n\t\t\tvar bar = Math.round(step / total * 100);\n\t\n\t\t\t_commonState2['default'].set(\"progress\", { bar: bar, x: x, y: y });\n\t\t}\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 100:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t\tTILE_WIDTH: 8,\n\t\tTILE_HEIGHT: 8\n\t};\n\n/***/ },\n\n/***/ 101:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _baobab = __webpack_require__(40);\n\t\n\tvar _baobab2 = _interopRequireDefault(_baobab);\n\t\n\tvar initState = {\n\t\telements: {\n\t\t\tcanvas: 'canvas',\n\t\t\tbuffer: 'buffer',\n\t\t\tlink: 'download-link'\n\t\t},\n\t\tmenu: [{\n\t\t\ttitle: 'Canvas',\n\t\t\tlink: 'canvas'\n\t\t}, {\n\t\t\ttitle: 'Statistics',\n\t\t\tlink: 'statistics'\n\t\t}],\n\t\timage: {},\n\t\tscaled: {},\n\t\tmosaic: {},\n\t\tstat: {},\n\t\tsvg: {},\n\t\tstatus: null,\n\t\tprogress: {}\n\t};\n\t\n\texports['default'] = new _baobab2['default'](initState);\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 163:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _actions = __webpack_require__(99);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _reactBaobab = __webpack_require__(44);\n\t\n\tvar _classnames = __webpack_require__(61);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default() {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, _default2);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default2.prototype), 'constructor', this).apply(this, arguments);\n\t\n\t\t\tthis.onSelected = function (e) {\n\t\t\t\tvar src = URL.createObjectURL(e.target.files[0]);\n\t\t\t\t_actions2['default'].loadImage(src);\n\t\t\t};\n\t\n\t\t\tthis.onRender = function () {\n\t\t\t\t_actions2['default'].setStatus('render');\n\t\t\t};\n\t\n\t\t\tthis.onSave = function () {\n\t\t\t\tvar elements = _this.props.elements;\n\t\n\t\t\t\tvar canvas = document.getElementById(elements.canvas);\n\t\t\t\tvar link = document.getElementById(elements.link);\n\t\n\t\t\t\tif (canvas && link) {\n\t\t\t\t\tlink.href = canvas.toDataURL();\n\t\t\t\t\tlink.download = 'mosaic.png';\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar _props = this.props;\n\t\t\t\tvar elements = _props.elements;\n\t\t\t\tvar status = _props.status;\n\t\t\t\tvar link = elements.link;\n\t\n\t\t\t\tvar isRendeing = status === 'render';\n\t\t\t\tvar isReady = status === 'ready';\n\t\t\t\tvar isDone = status === 'done';\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'form' },\n\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ className: 'ui button button-file' },\n\t\t\t\t\t\t\t_react2['default'].createElement('i', { className: 'upload icon' }),\n\t\t\t\t\t\t\t'Select image',\n\t\t\t\t\t\t\t_react2['default'].createElement('input', { onChange: this.onSelected,\n\t\t\t\t\t\t\t\ttype: 'file' })\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ className: (0, _classnames2['default'])('ui button', {\n\t\t\t\t\t\t\t\t\t'show': isReady,\n\t\t\t\t\t\t\t\t\t'hide': !isReady\n\t\t\t\t\t\t\t\t}), onClick: this.onRender },\n\t\t\t\t\t\t\t_react2['default'].createElement('i', { className: 'cube icon' }),\n\t\t\t\t\t\t\t'Render'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t'a',\n\t\t\t\t\t\t\t{ id: link, className: (0, _classnames2['default'])('ui button', {\n\t\t\t\t\t\t\t\t\t'show': isDone,\n\t\t\t\t\t\t\t\t\t'hide': !isDone\n\t\t\t\t\t\t\t\t}), onClick: this.onSave },\n\t\t\t\t\t\t\t_react2['default'].createElement('i', { className: 'save icon' }),\n\t\t\t\t\t\t\t'Save image'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tisRendeing && _react2['default'].createElement('div', { className: 'layer' })\n\t\t\t\t\t),\n\t\t\t\t\tisReady && _react2['default'].createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'ui positive message' },\n\t\t\t\t\t\t'Image loaded. Click ',\n\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t'b',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Render'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t' or ',\n\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t'b',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Select another image'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\tvar _default2 = _default;\n\t\t_default = (0, _reactBaobab.branch)({\n\t\t\telements: ['elements'],\n\t\t\tstatus: ['status']\n\t\t})(_default) || _default;\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 164:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _form = __webpack_require__(163);\n\t\n\tvar _form2 = _interopRequireDefault(_form);\n\t\n\tvar _mosaic = __webpack_require__(165);\n\t\n\tvar _mosaic2 = _interopRequireDefault(_mosaic);\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default() {\n\t\t\t_classCallCheck(this, _default);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default.prototype), 'constructor', this).apply(this, arguments);\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Canvas'\n\t\t\t\t\t),\n\t\t\t\t\t_react2['default'].createElement(_form2['default'], null),\n\t\t\t\t\t_react2['default'].createElement(_mosaic2['default'], null)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 165:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _slicedToArray = __webpack_require__(179)['default'];\n\t\n\tvar _Promise = __webpack_require__(102)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _actions = __webpack_require__(99);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _reactBaobab = __webpack_require__(44);\n\t\n\tvar _commonConfig = __webpack_require__(100);\n\t\n\tvar _commonConfig2 = _interopRequireDefault(_commonConfig);\n\t\n\tvar _classnames = __webpack_require__(61);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _progressbar = __webpack_require__(167);\n\t\n\tvar _progressbar2 = _interopRequireDefault(_progressbar);\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default(props) {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, _default2);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default2.prototype), 'constructor', this).call(this, props);\n\t\n\t\t\tthis.scaleToCanvas = function () {\n\t\t\t\tvar _props = _this.props;\n\t\t\t\tvar elements = _props.elements;\n\t\t\t\tvar image = _props.image;\n\t\t\t\tvar scaled = _props.scaled;\n\t\t\t\tvar src = image.src;\n\t\n\t\t\t\tif (src) {\n\t\t\t\t\tvar canvas = document.getElementById(elements.canvas);\n\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\tvar img = new Image();\n\t\n\t\t\t\t\timg.src = src;\n\t\t\t\t\tcontext.scale(scaled.scalex, scaled.scaley);\n\t\t\t\t\tcontext.drawImage(img, 0, 0);\n\t\n\t\t\t\t\t_actions2['default'].getScaledImageData(context);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.renderToCanvas = function (imgX, imgY) {\n\t\t\t\tvar _props2 = _this.props;\n\t\t\t\tvar elements = _props2.elements;\n\t\t\t\tvar mosaic = _props2.mosaic;\n\t\t\t\tvar scaled = _props2.scaled;\n\t\n\t\t\t\tvar rgb = {},\n\t\t\t\t    hex = undefined,\n\t\t\t\t    x = imgX || 0,\n\t\t\t\t    y = imgY || 0;\n\t\n\t\t\t\t// set canvas sizes and clear it\n\t\t\t\tif (x == 0 && y == 0) {\n\t\t\t\t\tvar canvas = document.getElementById(elements.canvas);\n\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\n\t\t\t\t\tcanvas.width = mosaic.width;\n\t\t\t\t\tcanvas.height = mosaic.height;\n\t\t\t\t\tcontext.clearRect(0, 0, mosaic.width, mosaic.height);\n\t\t\t\t}\n\t\n\t\t\t\tif (y === scaled.height - 1 && x === scaled.width) {\n\t\t\t\t\t_actions2['default'].setStatus('done');\n\t\t\t\t\treturn;\n\t\t\t\t} else if (x === scaled.width) {\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty++;\n\t\t\t\t}\n\t\n\t\t\t\tvar start = x * 4 + y * scaled.width * 4;\n\t\t\t\tvar end = start + 4;\n\t\n\t\t\t\tvar _scaled$data$slice = scaled.data.slice(start, end);\n\t\n\t\t\t\tvar _scaled$data$slice2 = _slicedToArray(_scaled$data$slice, 3);\n\t\n\t\t\t\tvar r = _scaled$data$slice2[0];\n\t\t\t\tvar g = _scaled$data$slice2[1];\n\t\t\t\tvar b = _scaled$data$slice2[2];\n\t\n\t\t\t\t_actions2['default'].setProgress(x, y);\n\t\t\t\thex = _this.rgbToHex(r, g, b);\n\t\n\t\t\t\t_actions2['default'].setColorStat(hex);\n\t\n\t\t\t\t_this.renderRow(hex, x * _commonConfig2['default'].TILE_WIDTH, y * _commonConfig2['default'].TILE_WIDTH).then(function () {\n\t\t\t\t\t_this.renderToCanvas(x + 1, y);\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\tthis.renderRow = function (hex, x, y) {\n\t\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\t\t_this.getHexSvg(hex).then(function (rawSvg) {\n\t\t\t\t\t\tvar _props3 = _this.props;\n\t\t\t\t\t\tvar elements = _props3.elements;\n\t\t\t\t\t\tvar mosaic = _props3.mosaic;\n\t\n\t\t\t\t\t\tvar svg = new Blob([rawSvg], { type: \"image/svg+xml;charset=utf-8\" });\n\t\t\t\t\t\tvar domURL = self.URL || self.webkitURL || self;\n\t\t\t\t\t\tvar url = domURL.createObjectURL(svg);\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\tvar buffer = document.getElementById(elements.buffer);\n\t\t\t\t\t\tvar canvas = document.getElementById(elements.canvas);\n\t\n\t\t\t\t\t\timg.src = url;\n\t\t\t\t\t\timg.onload = function () {\n\t\t\t\t\t\t\t// render to buffer\n\t\t\t\t\t\t\tif (buffer) {\n\t\t\t\t\t\t\t\tvar bufferctxt = buffer.getContext('2d');\n\t\t\t\t\t\t\t\tbufferctxt.drawImage(img, x, 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (x === mosaic.width - _commonConfig2['default'].TILE_WIDTH) {\n\t\t\t\t\t\t\t\t// render to canvas\n\t\t\t\t\t\t\t\tif (canvas) {\n\t\t\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\t\t\tvar bufferctxt = buffer.getContext('2d');\n\t\t\t\t\t\t\t\t\tvar imgData = bufferctxt.getImageData(0, 0, mosaic.width, _commonConfig2['default'].TILE_HEIGHT);\n\t\n\t\t\t\t\t\t\t\t\t_actions2['default'].saveDrawResults(imgData.data);\n\t\t\t\t\t\t\t\t\tcontext.putImageData(imgData, 0, y);\n\t\n\t\t\t\t\t\t\t\t\t// clear buffer canvas\n\t\t\t\t\t\t\t\t\tbufferctxt.clearRect(0, 0, mosaic.width, _commonConfig2['default'].TILE_HEIGHT);\n\t\n\t\t\t\t\t\t\t\t\tresolve('done');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresolve('done');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\tthis.renderToCanvasFromCashe = function () {\n\t\t\t\tvar _props4 = _this.props;\n\t\t\t\tvar mosaic = _props4.mosaic;\n\t\t\t\tvar progress = _props4.progress;\n\t\t\t\tvar status = _props4.status;\n\t\n\t\t\t\tvar canvas = document.getElementById(_this.props.elements.canvas);\n\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\tvar height = undefined;\n\t\n\t\t\t\tcanvas.width = mosaic.width;\n\t\t\t\tcanvas.height = mosaic.height;\n\t\n\t\t\t\tvar imgData = new Uint8ClampedArray(mosaic.data);\n\t\n\t\t\t\tif (status == 'done') {\n\t\t\t\t\theight = mosaic.height;\n\t\t\t\t} else {\n\t\t\t\t\theight = progress.y * _commonConfig2['default'].TILE_HEIGHT;\n\t\t\t\t}\n\t\n\t\t\t\tvar imageData = new ImageData(imgData, mosaic.width, height);\n\t\n\t\t\t\tcontext.putImageData(imageData, 0, 0);\n\t\n\t\t\t\tif (status == 'render') {\n\t\t\t\t\t_actions2['default'].setProgress(0, progress.y);\n\t\t\t\t\t_this.renderToCanvas(0, progress.y);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.getHexSvg = function (color) {\n\t\t\t\treturn new _Promise(function (resolve, reject) {\n\t\t\t\t\tvar svg = _this.props.svg;\n\t\t\t\t\tvar hex = color.slice(1);\n\t\n\t\t\t\t\tif (svg[hex] !== undefined) {\n\t\t\t\t\t\tresolve(svg[hex]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_actions2['default'].getColorSvg(hex).then(function (svg) {\n\t\t\t\t\t\t\tresolve(svg);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\tthis.rgbToHex = function (r, g, b) {\n\t\t\t\treturn \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n\t\t\t};\n\t\n\t\t\treturn;\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'componentDidMount',\n\t\t\tvalue: function componentDidMount() {\n\t\t\t\tvar status = this.props.status;\n\t\n\t\t\t\tif (status == 'render' || status == 'done') {\n\t\t\t\t\tthis.renderToCanvasFromCashe();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'componentDidUpdate',\n\t\t\tvalue: function componentDidUpdate(prevProps) {\n\t\t\t\tif (prevProps.image.src !== this.props.image.src) {\n\t\t\t\t\tthis.scaleToCanvas();\n\t\t\t\t}\n\t\t\t\tif (prevProps.status === 'ready' && this.props.status === 'render') {\n\t\t\t\t\tthis.renderToCanvas();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar _props5 = this.props;\n\t\t\t\tvar mosaic = _props5.mosaic;\n\t\t\t\tvar scaled = _props5.scaled;\n\t\t\t\tvar elements = _props5.elements;\n\t\t\t\tvar status = _props5.status;\n\t\n\t\t\t\tvar isRendering = status == 'render';\n\t\t\t\tvar isDone = status == 'done';\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'canvas__container' },\n\t\t\t\t\t_react2['default'].createElement('canvas', { className: (0, _classnames2['default'])({\n\t\t\t\t\t\t\t'show': isRendering || isDone\n\t\t\t\t\t\t}), id: elements.canvas,\n\t\t\t\t\t\theight: scaled.height,\n\t\t\t\t\t\twidth: scaled.width }),\n\t\t\t\t\t_react2['default'].createElement('canvas', { id: elements.buffer,\n\t\t\t\t\t\theight: _commonConfig2['default'].TILE_HEIGHT,\n\t\t\t\t\t\twidth: mosaic.width }),\n\t\t\t\t\t_react2['default'].createElement(_progressbar2['default'], null)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\tvar _default2 = _default;\n\t\t_default = (0, _reactBaobab.branch)({\n\t\t\telements: ['elements'],\n\t\t\timage: ['image'],\n\t\t\tscaled: ['scaled'],\n\t\t\tmosaic: ['mosaic'],\n\t\t\tsvg: ['svg'],\n\t\t\tstatus: ['status'],\n\t\t\tprogress: ['progress']\n\t\t})(_default) || _default;\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 166:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _reactBaobab = __webpack_require__(44);\n\t\n\tvar _reactRouter = __webpack_require__(153);\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default() {\n\t\t\t_classCallCheck(this, _default2);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default2.prototype), 'constructor', this).apply(this, arguments);\n\t\n\t\t\tthis.renderItem = function (_ref) {\n\t\t\t\tvar link = _ref.link;\n\t\t\t\tvar title = _ref.title;\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t_reactRouter.Link,\n\t\t\t\t\t{ activeClassName: 'active',\n\t\t\t\t\t\tclassName: 'item',\n\t\t\t\t\t\tkey: link,\n\t\t\t\t\t\tto: link },\n\t\t\t\t\ttitle\n\t\t\t\t);\n\t\t\t};\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ui pointing menu' },\n\t\t\t\t\tthis.props.menu.map(function (menuitem) {\n\t\t\t\t\t\treturn _this.renderItem(menuitem);\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\tvar _default2 = _default;\n\t\t_default = (0, _reactBaobab.branch)({\n\t\t\tmenu: ['menu']\n\t\t})(_default) || _default;\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 167:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _reactBaobab = __webpack_require__(44);\n\t\n\tvar _classnames = __webpack_require__(61);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default() {\n\t\t\t_classCallCheck(this, _default2);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default2.prototype), 'constructor', this).apply(this, arguments);\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar _props = this.props;\n\t\t\t\tvar progress = _props.progress;\n\t\t\t\tvar status = _props.status;\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: (0, _classnames2['default'])('progressbar', {\n\t\t\t\t\t\t\t'show': status === 'render'\n\t\t\t\t\t\t}) },\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tprogress.bar ? progress.bar + '%' : ''\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\tvar _default2 = _default;\n\t\t_default = (0, _reactBaobab.branch)({\n\t\t\tstatus: ['status'],\n\t\t\tprogress: ['progress']\n\t\t})(_default) || _default;\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 168:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _Object$keys = __webpack_require__(177)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _reactBaobab = __webpack_require__(44);\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _table = __webpack_require__(169);\n\t\n\tvar _table2 = _interopRequireDefault(_table);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default() {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, _default2);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default2.prototype), 'constructor', this).apply(this, arguments);\n\t\n\t\t\tthis.sortStats = function () {\n\t\t\t\tvar stat = _this.props.stat;\n\t\n\t\t\t\tvar colors = stat.colors || {};\n\t\t\t\tvar arr = [];\n\t\n\t\t\t\t_Object$keys(colors).forEach(function (hex) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\thex: hex,\n\t\t\t\t\t\tvalue: colors[hex]\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\tarr.sort(function (a, b) {\n\t\t\t\t\treturn b.value - a.value;\n\t\t\t\t});\n\t\t\t\treturn arr;\n\t\t\t};\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar total = this.props.stat.total;\n\t\n\t\t\t\tvar data = this.sortStats();\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Statistic'\n\t\t\t\t\t),\n\t\t\t\t\t_react2['default'].createElement(_table2['default'], { data: data,\n\t\t\t\t\t\ttotal: total })\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\tvar _default2 = _default;\n\t\t_default = (0, _reactBaobab.branch)({\n\t\t\tstat: ['stat']\n\t\t})(_default) || _default;\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 169:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default() {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, _default);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default.prototype), 'constructor', this).apply(this, arguments);\n\t\n\t\t\tthis.getPercentValue = function (value, total) {\n\t\t\t\treturn (value / total * 100).toFixed(2) + '%';\n\t\t\t};\n\t\n\t\t\tthis.renderTable = function () {\n\t\t\t\tvar data = _this.props.data;\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'table',\n\t\t\t\t\t{ className: 'ui celled table' },\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'thead',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t'tr',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t\t'th',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'Color'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t\t'th',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'Usage'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'tbody',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tdata.map(function (item) {\n\t\t\t\t\t\t\treturn _this.renderTableItem(item.hex, item.value);\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\t\n\t\t\tthis.renderTableItem = function (color, value) {\n\t\t\t\tvar total = _this.props.total;\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'tr',\n\t\t\t\t\t{ key: color },\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\t{ style: { 'background': color } },\n\t\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'td',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tvalue + ' - ' + _this.getPercentValue(value, total)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\t\n\t\t\tthis.renderEmptyState = function () {\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ui positive message' },\n\t\t\t\t\t'No information'\n\t\t\t\t);\n\t\t\t};\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar data = this.props.data;\n\t\n\t\t\t\tvar isEmpty = !data.length;\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t!isEmpty ? this.renderTable() : this.renderEmptyState()\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 170:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = __webpack_require__(20)['default'];\n\t\n\tvar _inherits = __webpack_require__(21)['default'];\n\t\n\tvar _createClass = __webpack_require__(19)['default'];\n\t\n\tvar _classCallCheck = __webpack_require__(18)['default'];\n\t\n\tvar _interopRequireDefault = __webpack_require__(9)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _menu = __webpack_require__(166);\n\t\n\tvar _menu2 = _interopRequireDefault(_menu);\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _default = (function (_React$Component) {\n\t\t_inherits(_default, _React$Component);\n\t\n\t\tfunction _default() {\n\t\t\t_classCallCheck(this, _default);\n\t\n\t\t\t_get(Object.getPrototypeOf(_default.prototype), 'constructor', this).apply(this, arguments);\n\t\t}\n\t\n\t\t_createClass(_default, [{\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar location = this.props.location;\n\t\t\t\tvar pathname = location.pathname;\n\t\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2['default'].createElement(_menu2['default'], null),\n\t\t\t\t\tthis.props.children\n\t\t\t\t);\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'propTypes',\n\t\t\tvalue: {\n\t\t\t\tlocation: _react2['default'].PropTypes.object.isRequired\n\t\t\t},\n\t\t\tenumerable: true\n\t\t}]);\n\t\n\t\treturn _default;\n\t})(_react2['default'].Component);\n\t\n\texports['default'] = _default;\n\tmodule.exports = exports['default'];\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** app.js\n **/","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport View from './components/view'\nimport Canvas from './components/canvas';\nimport Statistic from './components/statistic';\nimport {hashHistory, IndexRedirect, Redirect, Route, Router} from 'react-router'\nimport tree from './common/state';\nimport {root} from 'baobab-react/higher-order'\n\nconst RootedApp = root(tree, View)\n\nReactDOM.render(\n\t<Router history={hashHistory}>\n\t\t<Route path='/' component={RootedApp}>\n\t\t\t<IndexRedirect to=\"/canvas\" />\n\t\t\t<Route path=\"canvas\" component={Canvas} />\n\t\t\t<Route path=\"statistics\" component={Statistic} />\n\t\t\t<Redirect from=\"*\" to=\"/canvas\" />\n\t\t</Route>\n\t</Router>,\n\tdocument.getElementById('app')\n);\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import request from 'superagent';\nimport tree from '../common/state';\nimport config from '../common/config';\n\nexport default {\n\tgetColorSvg: (hex) => {\n\t\treturn new Promise ((resolve, reject) => {\n\t\t\tconst req = request\n\t\t\t.get('http://localhost:9000/colors/' + hex)\n\t\t\t.set('Accept', 'image/svg+xml')\n\t\t\t.end(function(err, res){\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\ttree.set(['svg', hex], res.text);\n\t\t\t\t\tresolve(res.text);\n\t\t\t\t} else {\n\t\t\t\t\treject('error');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tloadImage: (src) => {\n\t\treturn new Promise ((resolve, reject) => {\n\t\t\tlet img = new Image();\n\t\t\timg.src =  src;\n\t\t\timg.onload = () => {\n\t\t\t\tconst {src, height, width} = img;\n\t\t\t\ttree.set('image', {src, height, width});\n\n\t\t\t\tconst scaleWidth = Math.ceil(img.width/config.TILE_WIDTH);\n\t\t\t\tconst scalex = scaleWidth/img.width;\n\t\t\t\tconst scaleHeight = Math.ceil(img.height/config.TILE_HEIGHT);\n\t\t\t\tconst scaley = scaleHeight/img.height;\n\n\t            // scaled image sizes\n\t            tree.set('scaled', {\n\t            \theight: scaleHeight,\n\t            \twidth: scaleWidth,\n\t            \tscalex,\n\t            \tscaley\n\t            });\n\n\t\t\t\t// mosaic size\n\t\t\t\ttree.set('mosaic', {\n\t\t\t\t\theight: (scaleHeight * config.TILE_HEIGHT),\n\t\t\t\t\twidth: (scaleWidth * config.TILE_WIDTH),\n\t\t\t\t\tdata: []\n\t\t\t\t});\n\n\t\t\t\ttree.set('status', 'loaded');\n\t\t\t\ttree.set([\"progress\", \"bar\"], 0);\n\n\t\t\t\tresolve(img);\n\t\t\t};\n\t\t});\n\t},\n\n\tgetScaledImageData: (context) => {\n\t\treturn new Promise ((resolve, reject) => {\n\t\t\tconst cursorScaled = tree.select('scaled');\n\t\t\tconst {height, width} = cursorScaled.get()\n\t\t\tconst imageData =  Array.from(context.getImageData(0, 0, width, height).data);\n\n\t\t\tcursorScaled.set('data', imageData);\n\t\t\ttree.set('status', 'ready');\n\n\t\t\tresolve(imageData);\n\t\t});\n\t},\n\n\tsetStatus: (status) => {\n\t\ttree.set('status', status);\n\t},\n\n\tsetColorStat: (hex) => {\n\t\tconst statColors = tree.select('stat', 'colors');\n\t\tconst statTotal = tree.select('stat', 'total');\n\n\t\tif (!statColors.get(hex)) {\n\t\t\tstatColors.set(hex, 1);\n\t\t} else {\n\t\t\tstatColors.set(hex, statColors.get(hex) + 1);\n\t\t}\n\n\t\tif (!statTotal.get()) {\n\t\t\tstatTotal.set(1);\n\t\t} else {\n\t\t\tstatTotal.set(statTotal.get() + 1);\n\t\t}\n\t},\n\n\tsaveDrawResults: (data) => {\n\t\tconst arrData = Array.from(data);\n\t\tconst mosaicData = tree.select('mosaic', 'data');\n\n\t\tif (mosaicData.get()) {\n\t\t\tmosaicData.set(mosaicData.get().concat(arrData));\n\t\t} else {\n\t\t\tmosaicData.set(arrData);\n\t\t}\n\t},\n\n\tsetProgress: (x, y) => {\n\t\tconst cursorScaled = tree.select(\"scaled\");\n\t\tconst total = cursorScaled.get('width') * cursorScaled.get('height');\n\t\tconst step = x + y * cursorScaled.get('width');\n\t\tconst bar =  Math.round(step / total *100);\n\n\t\ttree.set(\"progress\", {bar, x, y});\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/index.js\n **/","module.exports = {\n\tTILE_WIDTH: 8,\n\tTILE_HEIGHT: 8\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/config.js\n **/","import Baobab from 'baobab'\n\nlet initState = {\n\telements: {\n\t\tcanvas: 'canvas',\n\t\tbuffer: 'buffer',\n\t\tlink: 'download-link'\n\t},\n\tmenu: [\n\t\t{\n\t\t\ttitle: 'Canvas',\n\t\t\tlink: 'canvas'\n\t\t},\n\t\t{\n\t\t\ttitle: 'Statistics',\n\t\t\tlink: 'statistics'\n\t\t}\n\t],\n\timage: \t{},\n\tscaled: {},\n\tmosaic: {},\n\tstat: \t{},\n\tsvg: \t{},\n\tstatus: null,\n\tprogress: {}\n};\n\nexport default new Baobab(initState);\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/state.js\n **/","import Actions from '../../actions';\nimport {branch} from 'react-baobab';\nimport cx from 'classnames'\nimport React from 'react';\n\n@branch({\n\telements:\t['elements'],\n\tstatus:\t\t['status']\n})\nexport default class extends React.Component {\n\tonSelected  = (e) => {\n\t\tlet src = URL.createObjectURL(e.target.files[0]);\n\t\tActions.loadImage(src);\n\t}\n\n\tonRender = () => {\n\t\tActions.setStatus('render');\n\t}\n\n\tonSave = () => {\n\t\tconst {elements} = this.props\n\t\tconst canvas = document.getElementById(elements.canvas);\n\t\tconst link = document.getElementById(elements.link);\n\n\t\tif (canvas && link) {\n\t\t\tlink.href = canvas.toDataURL();\n\t\t\tlink.download = 'mosaic.png';\n\t\t}\n\t}\n\n\trender () {\n\t\tconst {elements, status} = this.props\n\t\tconst {link} = elements;\n\t\tconst isRendeing = status === 'render';\n\t\tconst isReady = status === 'ready';\n\t\tconst isDone = status === 'done';\n\n\t\treturn  (\n\t\t\t<div>\n\t\t\t\t<div className=\"form\">\n\t\t\t\t\t<button className=\"ui button button-file\">\n\t\t\t\t\t\t<i className=\"upload icon\" />\n\t\t\t\t\t\tSelect image\n\t\t\t\t\t\t<input onChange={this.onSelected}\n\t\t\t\t\t\t\ttype=\"file\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className={cx('ui button', {\n\t\t\t\t\t\t'show': isReady,\n\t\t\t\t\t\t'hide': !isReady\n\t\t\t\t\t})}\tonClick={this.onRender}>\n\t\t\t\t\t\t<i className=\"cube icon\" />\n\t\t\t\t\t\tRender\n\t\t\t\t\t</button>\n\t\t\t\t\t<a id={link} className={cx('ui button', {\n\t\t\t\t\t\t'show': isDone,\n\t\t\t\t\t\t'hide': !isDone\n\t\t\t\t\t})}\tonClick={this.onSave}>\n\t\t\t\t\t\t<i className=\"save icon\" />\n\t\t\t\t\t\tSave image\n\t\t\t\t\t</a>\n\t\t\t\t\t{isRendeing &&\n\t\t\t\t\t\t<div className=\"layer\" />\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t{isReady && (\n\t\t\t\t\t<div className=\"ui positive message\">\n\t\t\t\t\t\tImage loaded. Click <b>Render</b> or <b>Select another image</b>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/canvas/form.js\n **/","import Form from './form';\nimport Mosaic from './mosaic';\nimport React from 'react';\n\nexport default class extends React.Component {\n\trender () {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Canvas</h1>\n\t\t\t\t<Form />\n\t\t\t\t<Mosaic />\n\t\t\t</div>\n\t\t)\n\t}\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/canvas/index.js\n **/","import Actions from '../../actions';\nimport {branch} from 'react-baobab';\nimport config from '../../common/config';\nimport cx from 'classnames'\nimport ProgressBar from '../progressbar';\nimport React from 'react';\n\n@branch({\n\telements:\t['elements'],\n\timage:\t\t['image'],\n\tscaled:\t\t['scaled'],\n\tmosaic:\t\t['mosaic'],\n\tsvg:\t\t['svg'],\n\tstatus:\t\t['status'],\n\tprogress:\t['progress']\n})\nexport default class extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\treturn\n\t}\n\n\tcomponentDidMount () {\n\t\tconst status = this.props.status;\n\n\t\tif (status == 'render' || status == 'done') {\n\t\t\tthis.renderToCanvasFromCashe();\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tif (prevProps.image.src !== this.props.image.src) {\n\t\t\tthis.scaleToCanvas();\n\t\t}\n\t\tif (prevProps.status === 'ready' && this.props.status === 'render') {\n\t\t\tthis.renderToCanvas();\n\t\t}\n\t}\n\n\tscaleToCanvas = () => {\n\t\tconst {elements, image, scaled}= this.props\n\t\tconst {src} = image\n\n\t\tif (src) {\n\t\t\tconst canvas = document.getElementById(elements.canvas);\n\t\t\tconst context = canvas.getContext('2d');\n\t\t\tconst img = new Image();\n\n\t\t\timg.src = src;\n\t\t\tcontext.scale(scaled.scalex, scaled.scaley);\n\t\t\tcontext.drawImage(img, 0, 0);\n\n\t\t\tActions.getScaledImageData(context);\n\t\t}\n\t}\n\n\trenderToCanvas = (imgX, imgY) => {\n\t\tconst {elements, mosaic, scaled} = this.props\n\t\tlet rgb = {},\n\t\t\thex,\n\t\t\tx = imgX || 0,\n\t\t\ty = imgY || 0;\n\n\t\t// set canvas sizes and clear it\n\t\tif (x == 0 && y == 0) {\n\t\t\tconst canvas = document.getElementById(elements.canvas);\n\t\t\tconst context = canvas.getContext('2d');\n\n\t\t\tcanvas.width = mosaic.width;\n\t\t\tcanvas.height = mosaic.height;\n\t\t\tcontext.clearRect(0, 0, mosaic.width, mosaic.height);\n\t\t}\n\n\t\tif (y === scaled.height -1 && x === scaled.width) {\n\t\t\tActions.setStatus('done');\n\t\t\treturn;\n\t\t} else if(x === scaled.width) {\n\t\t\tx = 0;\n\t\t\ty++;\n\t\t}\n\n\t\tconst start = x * 4 + y * scaled.width * 4;\n\t\tconst end = start + 4;\n\t\tconst [r, g, b] = scaled.data.slice(start, end);\n\n\t\tActions.setProgress(x, y);\n\t\thex = this.rgbToHex(r, g, b);\n\n\t\tActions.setColorStat(hex);\n\n\t\tthis.renderRow(hex, x * config.TILE_WIDTH, y * config.TILE_WIDTH)\n\t\t\t.then(() => {\n\t\t\t\tthis.renderToCanvas(x + 1, y);\n\t\t\t});\n\t}\n\n\trenderRow = (hex, x, y) => {\n\t\treturn new Promise ((resolve, reject) => {\n\t\t\tthis.getHexSvg(hex)\n\t\t\t\t.then(rawSvg => {\n\t\t\t\t\t\tconst {elements, mosaic} = this.props\n\t\t\t\t\t\tconst svg = new Blob([rawSvg], {type:\"image/svg+xml;charset=utf-8\"});\n\t\t\t\t\t\tconst domURL = self.URL || self.webkitURL || self;\n\t\t\t\t\t\tconst url = domURL.createObjectURL(svg);\n\t\t\t\t\t\tconst img = new Image();\n\t\t\t\t\t\tconst buffer = document.getElementById(elements.buffer);\n\t\t\t\t\t\tconst canvas = document.getElementById(elements.canvas);\n\n\t\t\t\t\t\timg.src = url;\n\t\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\t\t// render to buffer\n\t\t\t\t\t\t\tif (buffer) {\n\t\t\t\t\t\t\t\tconst bufferctxt = buffer.getContext('2d');\n\t\t\t\t\t\t\t\tbufferctxt.drawImage(img, x, 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (x === (mosaic.width - config.TILE_WIDTH)) {\n\t\t\t\t\t\t\t\t// render to canvas\n\t\t\t\t\t\t\t\tif (canvas) {\n\t\t\t\t\t\t\t\t\tconst context = canvas.getContext('2d');\n\t\t\t\t\t\t\t\t\tconst bufferctxt = buffer.getContext('2d');\n\t\t\t\t\t\t\t\t\tconst imgData = bufferctxt.getImageData(0, 0, mosaic.width, config.TILE_HEIGHT);\n\n\t\t\t\t\t\t\t\t\tActions.saveDrawResults(imgData.data);\n\t\t\t\t\t\t\t\t\tcontext.putImageData(imgData, 0, y);\n\n\t\t\t\t\t\t\t\t\t// clear buffer canvas\n\t\t\t\t\t\t\t\t\tbufferctxt.clearRect(0, 0, mosaic.width, config.TILE_HEIGHT);\n\n\t\t\t\t\t\t\t\t\tresolve('done');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresolve('done');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t});\n\t}\n\n\trenderToCanvasFromCashe = () => {\n\t\tconst {mosaic, progress, status} = this.props;\n\t\tconst canvas = document.getElementById(this.props.elements.canvas);\n\t\tconst context = canvas.getContext('2d');\n\t\tlet height;\n\n\t\tcanvas.width = mosaic.width;\n\t\tcanvas.height =mosaic.height;\n\n\t\tlet imgData = new Uint8ClampedArray(mosaic.data);\n\n\t\tif (status == 'done') {\n\t\t\theight = mosaic.height;\n\t\t} else {\n\t\t\theight = progress.y * config.TILE_HEIGHT;\n\t\t}\n\n\t\tlet imageData = new ImageData (imgData,  mosaic.width, height);\n\n\t\tcontext.putImageData(imageData, 0, 0);\n\n\t\tif (status == 'render') {\n\t\t\tActions.setProgress(0, progress.y);\n\t\t\tthis.renderToCanvas(0, progress.y);\n\t\t}\n\t}\n\n\tgetHexSvg = (color) => {\n\t\treturn new Promise ((resolve, reject) => {\n\t\t\tconst svg = this.props.svg;\n\t\t\tconst hex = color.slice(1);\n\n\t\t\tif (svg[hex] !== undefined) {\n\t\t\t\tresolve(svg[hex]);\n\t\t\t} else {\n\t\t\t\tActions.getColorSvg(hex)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tsvg => {\n\t\t\t\t\t\t\tresolve(svg);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\n\trgbToHex = (r, g, b) => {\n\t\treturn \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n\t}\n\n\trender () {\n\t\tconst {mosaic, scaled, elements, status} = this.props;\n\t\tconst isRendering = status == 'render';\n\t\tconst isDone = status == 'done';\n\n\t\treturn (\n\t\t\t<div className=\"canvas__container\">\n\t\t\t\t<canvas className={cx({\n\t\t\t\t\t'show': isRendering || isDone\n\t\t\t\t})}\tid={elements.canvas}\n\t\t\t\t\theight={scaled.height}\n\t\t\t\t\twidth={scaled.width} />\n\n\t\t\t\t<canvas id={elements.buffer}\n\t\t\t\t\theight={config.TILE_HEIGHT}\n\t\t\t\t\twidth={mosaic.width} />\n\n\t\t\t\t<ProgressBar />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/canvas/mosaic.js\n **/","import {branch} from 'react-baobab';\nimport {Link} from 'react-router';\nimport React from 'react'\n\n@branch({\n\tmenu: ['menu']\n})\nexport default class extends React.Component {\n\trenderItem = ({link, title}) => {\n\t\treturn (\n\t\t\t<Link activeClassName=\"active\"\n\t\t\t\tclassName=\"item\"\n\t\t\t\tkey={link}\n\t\t\t\tto={link}>\n\t\t\t\t{title}\n\t\t\t</Link>\n\t\t)\n\t}\n\trender () {\n\t\treturn (\n\t\t\t<div className=\"ui pointing menu\">\n\t\t\t\t{this.props.menu.map(menuitem => this.renderItem(menuitem))}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/menu.js\n **/","import {branch} from 'react-baobab';\nimport cx from 'classnames'\nimport React from 'react';\n\n@branch({\n\tstatus: ['status'],\n\tprogress: ['progress']\n})\nexport default class extends React.Component {\n\trender () {\n\t\tconst {progress, status} = this.props\n\n\t\treturn (\n\t\t\t<div className={cx('progressbar', {\n\t\t\t\t'show': status === 'render'\n\t\t\t})}><span>\n\t\t\t\t\t{progress.bar ? `${progress.bar}%` : '' }\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/progressbar.js\n **/","import {branch} from 'react-baobab';\nimport React from 'react';\nimport Table from './table'\n\n@branch({\n\tstat: ['stat']\n})\nexport default class extends React.Component {\n\tsortStats = () => {\n\t\tconst {stat} = this.props\n\t\tconst colors = stat.colors || {}\n\t\tconst arr = []\n\n\t\tObject.keys(colors).forEach((hex) => {\n\t\t\tarr.push({\n\t\t\t\thex: hex,\n\t\t\t\tvalue: colors[hex]\n\t\t\t});\n\t\t})\n\n\t\tarr.sort(function(a, b) {\n\t\t\treturn b.value - a.value;\n\t\t});\n\t\treturn arr;\n\t}\n\n\trender () {\n\t\tconst {total} = this.props.stat\n\t\tconst data = this.sortStats()\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Statistic</h1>\n\t\t\t\t<Table data={data}\n\t\t\t\t\ttotal={total} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/statistic/index.js\n **/","import React from 'react'\n\nexport default class extends React.Component {\n\tgetPercentValue = (value, total) => {\n\t\treturn `${(value/total*100).toFixed(2)}%`;\n\t}\n\n\trenderTable = () => {\n\t\tconst {data} = this.props\n\n\t\treturn (\n\t\t\t<table className=\"ui celled table\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Color</th>\n\t\t\t\t\t\t<th>Usage</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{data.map(item => this.renderTableItem(item.hex, item.value))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t)\n\t}\n\n\trenderTableItem = (color, value) => {\n\t\tconst {total} = this.props\n\t\treturn (\n\t\t\t<tr key={color}>\n\t\t\t\t<td style={{'background': color}}>\n\t\t\t\t\t<span>{color}</span>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{`${value} - ${this.getPercentValue(value, total)}`}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t)\n\t}\n\n\trenderEmptyState = () => {\n\t\treturn (\n\t\t\t<div className=\"ui positive message\">\n\t\t\t\tNo information\n\t\t\t</div>\n\t\t)\n\t}\n\n\trender () {\n\t\tconst {data} = this.props\n\t\tconst isEmpty = !data.length\n\n\t\treturn (\n\t\t\t<div>\n\t \t\t\t{!isEmpty\n\t\t\t\t\t? this.renderTable()\n\t\t\t\t\t: this.renderEmptyState()}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/statistic/table.js\n **/","import Menu from './menu';\nimport React from 'react'\n\nexport default class extends React.Component {\n\tstatic propTypes = {\n\t\tlocation: React.PropTypes.object.isRequired,\n\t}\n\n\trender() {\n\t\tconst {location} = this.props\n\t\tconst {pathname} = location\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Menu />\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/view.js\n **/"],"sourceRoot":""}